import numpy as np
import scipy.stats as stats
import matplotlib.pyplot as plt

_0_dict_times = [0.28606784529984, 0.2817218150012195, 0.28548337519168854, 0.2812067102640867, 0.2816440835595131,     0.17296278942376375, 0.32960876636207104, 0.4686496304348111, 0.6185687039978802, 0.76543362531811, 28.71895384695381, 31.78001630725339, 18.36942674871534, 25.007929218001664, 41.086228117812425, 0.04033305821940303, 0.13633021526038647, 0.3393664238974452, 0.06942807463929057, 0.10274636559188366, 0.22604967979714274, 0.40212597232311964, 0.28907780814915895, 0.3249488901346922, 0.25293734297156334, 2.6350309271365404, 0.3096042349934578, 0.04589208774268627, 0.009339909069240093, 0.0036485097371041775, 15.098751097451895, 14.453198542818427, 13.978691701311618, 13.452103026211262, 13.026804542634636, 8.623666163999587, 9.706753004807979, 10.898585372138768, 12.159555772319436, 13.611317488364875, 0.07520998502150178, 0.036362918093800545, 0.10243492433801293, 0.13666118634864688, 0.1683076429180801, 0.02657431084662676, 0.02284485660493374, 0.021929020062088966, 0.020137192215770483, 0.023099533282220364]

_1_dict_times = [0.2792289354838431, 0.2835355647839606, 0.28036249056458473, 0.28126173187047243, 0.284353397320956,     0.11114617343991995, 0.21278508054092526, 0.3107607187703252, 0.41266318829730153, 0.5088279088959098, 15.30305641144514, 17.09064818173647, 10.270752675365657, 13.618888106197119, 22.075093851424754, 0.03652759362012148, 0.13546262262389064, 0.3358469670638442, 0.06896114069968462, 0.10164640191942453, 0.21934049995616078, 0.40091516450047493, 0.2879768889397383, 0.32443398190662265, 0.25135759077966213, 2.3608647026121616, 0.28507188661023974, 0.042209182400256395, 0.009138655383139849, 0.0035050618462264538, 14.065793862566352, 13.498517006635666, 13.218134145718068, 12.65465365583077, 12.180292952340096, 8.187630454078317, 9.146563973277807, 10.355154086370021, 11.543062116485089, 12.664078899193555, 0.06999468384310603, 0.035310986917465925, 0.0985274389386177, 0.13002655701711774, 0.16315471986308694, 0.018407950643450022, 0.018018864560872316, 0.01731045776978135, 0.015827682800590992, 0.018294610548764467]

_2_dict_times = [0.2761231088079512, 0.27775763999670744, 0.2783688618801534, 0.2781870705075562, 0.27993879187852144,     0.12058866629377007, 0.23001374583691359, 0.33453121595084667, 0.4409078531898558, 0.5450400891713798, 16.597239481750876, 18.702612868044525, 10.939384425058961, 14.698180874809623, 23.860098688397557, 0.03708287328481674, 0.13555241841822863, 0.33493463741615415, 0.06917775748297572, 0.10323904035612941, 0.2197299818508327, 0.3935374217107892, 0.28747939923778176, 0.32515874132514, 0.25448155542835593, 2.1409573536366224, 0.2597188618965447, 0.03920686477795243, 0.008322510868310928, 0.003458739258348942, 13.735924019478261, 13.293195656500757, 12.83092446764931, 12.464182997588068, 11.89751833351329, 8.0444415807724, 9.064116767141968, 10.125758675858378, 11.314891923218966, 12.54770807782188, 0.06974991224706173, 0.03482332406565547, 0.09822294348850846, 0.13010863028466702, 0.16153994016349316, 0.01703451294451952, 0.016720605548471212, 0.01582991611212492, 0.014603389892727137, 0.016873569693416357]

_2_fast_dict_times = [0.2795357243157923, 0.2794355032965541, 0.27937146183103323, 0.2797389281913638, 0.2797576985321939,     0.11177144711837173, 0.21111883083358407, 0.30976716289296746, 0.4081342527642846, 0.5042509348131716, 15.428162624593824, 17.184119732584804, 10.313219592906535, 13.772528256289661, 21.899786023423076, 0.036552692763507366, 0.13493723841384053, 0.33381166215986013, 0.0694620800204575, 0.10244596563279629, 0.21735134860500693, 0.39732620399445295, 0.287697646766901, 0.3273056601174176, 0.2527577131986618, 2.3851687009446323, 0.2929221233353019, 0.04299642890691757, 0.008966085035353899, 0.0034966301172971725, 14.135982098989189, 13.881150632631034, 13.407795637845993, 12.885014314670116, 12.365107378922403, 8.189993700943887, 9.25834879418835, 10.360882265027612, 11.544916016515344, 12.86216967785731, 0.07053808309137821, 0.035307242535054684, 0.09964727284386754, 0.13230204675346613, 0.16402258723974228, 0.018737800419330597, 0.018138913437724113, 0.017316201236099005, 0.016065726056694984, 0.018688031006604433]

# Perform Shapiro-Wilk test for each set of differences
def shapiro_test(differences, name):
    shapiro_stat, shapiro_p_value = stats.shapiro(differences)
    print(f'\nShapiro-Wilk test for {name}:')
    print(f'Statistic: {shapiro_stat}')
    print(f'p-value: {shapiro_p_value}')
    if shapiro_p_value < 0.05:
        print(f'The differences for {name} are not normally distributed (reject H0).')
    else:
        print(f'The differences for {name} are approximately normally distributed (fail to reject H0).')

shapiro_test(_0_dict_times, '0-dict')
shapiro_test(_1_dict_times, '1-dict')
shapiro_test(_2_dict_times, '2-dict')
shapiro_test(_2_fast_dict_times, '2-fast-dict')
